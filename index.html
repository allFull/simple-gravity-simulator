<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <base href="/3body/index.html" />
    <title>ä¸‡æœ‰å¼•åŠ›</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.png">
    <link rel="bookmark" type="image/x-icon" href="favicon.png">
    <style>
        body {
            padding: 0;
            margin: 0;
            color: rgba(255, 255, 255, 0.7);
        }

        canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: black;
        }

        main {
            text-shadow: 0 0 5px black;
        }

        #left-panel {
            position: fixed;
            top: 45px;
            bottom: 5px;
            left: 5px;
            font-size: 13px;

            display: flex;
            flex-direction: column;
            gap: 2px;

            pointer-events: none;

            user-select: none;
        }

        #left-panel>* {
            width: -moz-fit-content;
            width: fit-content;
            /* pointer-events: all; */

        }

        .scale50px {
            display: inline-block;
            width: 50px;
            height: 5px;
            border-bottom: 2px solid currentColor;
            border-left: 1px solid currentColor;
            border-right: 1px solid currentColor;
        }

        .multiPercentBar {
            display: inline-block;
            /* width: 70px; */
            /* height: 1.5em; */
            /* vertical-align: middle; */
            font-size: 0.8em;
            padding-left: .5em;
            padding-right: 1.5em;
        }

        .lightBar {
            display: inline-block;
            width: 3em;
            height: 0.8em;
            vertical-align: middle;
        }

        button {
            user-select: none;
            border: none;
            color: inherit;
            background: #505050;
            pointer-events: all;
            padding: 1px 6px;
        }

        button:not(:first-child) {
            margin-left: 2px;
        }

        button:hover {
            background: #6b6b6b;
        }

        button:active {
            background: #454545;
        }

        button.unselected {
            opacity: 0.6;
        }

        .popup-wrapper {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.5);
            /* display: none; */
        }

        .popup-content {
            background: rgba(51, 51, 51, 0.3);
            backdrop-filter: blur(10px);
            padding: 10px 20px;
            max-width: 800px;
            margin: 1em;
        }

        .system-sets {
            display: flex;
            flex-wrap: wrap;
            gap: .3em;
        }

        .system-sets button {
            margin: 0;
        }

        [v-cloak] {
            display: none;
        }
    </style>
</head>

<body>
    <canvas></canvas>
    <main v-cloak v-show="!hideUI">
        <div id="left-panel">
            <div>å…‰ç…§å¼ºåº¦ï¼š<span class="lightBar" :style="{background:state.dss.lightColor}"></span>
                åœ°çƒçš„{{state.dss.light.toFixed(3)}}å€</div>
            <div>æœ€è¿‘æ’æ˜Ÿè·ç¦»ï¼š{{state.dss.nearestAU.toFixed(3)}}å€æ—¥åœ°è·ç¦»(AU)</div>
            <div style="margin-top: 10px;">æ‰“ç‚¹å¯†åº¦/å…‰å¸¦é€Ÿåº¦ï¼šæ¯ç§’{{tracksManager.tracksPerSecCount}}ä¸ª <button
                    @click="reduceTracks">Ã·2</button> <button @click="increaseTracks">Ã—2</button>
            </div>
            <div>è½¨è¿¹ä¿ç•™æ—¶é—´ï¼š{{(tracksManager.tracksRemainTime/60).toFixed(2)}}åˆ†é’Ÿ <button
                    @click="reduceTracksRemainTime">Ã·1.5</button> <button
                    @click="increaseTracksRemainTime">Ã—1.5</button>
            </div>
            <div style="margin-top: 10px;">
                {{SystemSet.name}}
                <button style="margin-left: 6px;" @click="showLoadSetPopup=true">ğŸŒŒ åˆ‡æ¢ç³»ç»Ÿ</button>
                <button @click="location.reload()">â†» é‡è½½</button>
            </div>
            <div style="margin-top: 10px;">è¡Œæ˜Ÿè§†è§’ï¼š<button :class="{unselected:!params.useFocus}"
                    @click="changeUseFocus(true)">æ˜¯</button>
                <button :class="{unselected:params.useFocus}" @click="changeUseFocus(false)">å¦</button>
            </div>
            <div style="flex-grow: 1;"></div>
            <!-- <div>å…‰ç…§å¼ºåº¦æ‹ŸåŒ–ç™¾åˆ†æ¯”ï¼š{{state.dss.lightPer.toFixed(3)}}%</div> -->

            <div style="font-weight: bold;">æ¨¡æ‹Ÿæ—¶é—´ï¼š{{(state.time/(60 * 60 * 24 * 365)).toFixed(3)}}åœ°çƒå¹´ï¼ˆ{{(state.time/(60 *
                60 * 24)).toFixed(2)}}åœ°çƒå¤©ï¼‰
            </div>
            <div style="margin-top: 5px;">
                <button @click="reduceTimeMultiplier">å‡æ…¢ Ã·1.5</button> <button @click="increaseTimeMultiplier">åŠ å¿«
                    Ã—1.5</button>
            </div>
            <div style="margin-top: 5px;">
                æ—¶é—´å€ç‡ï¼ˆè¿è¡Œé€Ÿåº¦ï¼‰ï¼š{{state.timeMultiplier.toFixed(0)}}ï¼ˆ1åˆ†é’Ÿ={{(state.timeMultiplier/(60 * 24*365)).toFixed(2)}}å¹´ï¼‰
            </div>
            <div>å®é™…å€ç‡ï¼ˆæ€§èƒ½ï¼‰ï¼š<span class="multiPercentBar"
                    :style="{background: 'linear-gradient(90deg, green, green '+state.realTimeMultiplier*100/state.timeMultiplier+'%, red '+state.realTimeMultiplier*100/state.timeMultiplier+'%, red)' }">{{(state.realTimeMultiplier*100/state.timeMultiplier
                    +
                    1000).toFixed(2).slice(1)}}%</span> {{state.realTimeMultiplier.toFixed(2)}}</div>
            <div style="margin-top: 10px;">æ­¥è·ï¼ˆç²¾åº¦ï¼‰ï¼š{{state.accuracy.toFixed(7)}}ç§’ <button
                    @click="reduceAccuracy">Ã·2</button> <button @click="increaseAccuracy">Ã—2</button></div>
            <div style="margin-top: 10px;"><span class="scale50px"></span> {{((50*canvas.dp*canvas.scale)/Math.pow(10,
                10)).toFixed(2)}}Ã—10Â¹â°ç±³ ï¼ˆå¯è‡ªç”±æ‹–åŠ¨å’Œç¼©æ”¾ï¼‰
                <!-- <button @click="zoomOut">ç¼©å°</button>
                <button @click="zoomIn">æ”¾å¤§</button> -->
            </div>
        </div>
        <div v-if="showLoadSetPopup" class="popup-wrapper">
            <div class="popup-content">
                <h5 style="margin: .5em 0 1em;">è½½å…¥æ˜Ÿä½“ç³»ç»Ÿ<button style="float:right;"
                        @click="showLoadSetPopup=false">Ã—</button></h5>
                <div id="set-selecter">
                    <div class="system-sets">
                        <button v-for="set in SystemSets.filter(n=>!n.hide)"
                            @click="local.nowSystemSetId=set.id;location.reload();">{{set.name}}</button>
                    </div>
                </div>
                <h5 style="margin: 2em 0 1em;">æç¤º</h5>
                <ul style="font-size:.9em;">
                    <li>æ€§èƒ½ä¸è¶³æ—¶å¯å°è¯•å¢å¤§æ­¥è·</li>
                    <li>æ‰€æœ‰æ˜Ÿä½“ç»Ÿä¸€è§†ä¸ºè´¨å¿ƒï¼Œè§†è§‰å¤§å°éçœŸå®æ¯”ä¾‹ï¼Œä¹Ÿä¸ä¼šç›¸æ’ï¼›åœ¨éšæœºç³»ç»Ÿä¸­ï¼Œæ’æ˜Ÿè§†è§‰å¤§å°ä¸è´¨é‡æˆæ­£æ¯”</li>
                    <li>æ­¥è·åœ¨æŸç§ç¨‹åº¦ä¸Šå¯ä»¥è§†ä¸ºç§å­ï¼Œåœ¨å®Œå…¨ç›¸åŒçš„åˆå§‹æ¡ä»¶ä¸‹ï¼Œè½»å¾®çš„æ­¥è·å·®å¼‚å¯èƒ½ä¼šä½¿å‘å±•æˆªç„¶ä¸åŒ</li>
                    <li>æœªè€ƒè™‘è¡Œæ˜Ÿè‡ªè½¬ï¼Œå…‰å¸¦ä¸Šçš„å‘¨æœŸç±»ä¼¼å­£èŠ‚ï¼Œè€Œä¸æ˜¯æ—¥å¤œ</li>
                </ul>
                <div style="font-size:small;opacity: 0.6;text-align: right;">by <a style="color: inherit;"
                        target="_blank" href="https://www.thatwind.com/">é‚£é£(thatwind.com)</a></div>
            </div>
        </div>
    </main>
    <script src="vue.min.js"></script>
    <script src="gestures.js?1"></script>
    <script src="3-body-system-sets.js"></script>
    <script src="index.js?14">
    </script>
</body>

</html>